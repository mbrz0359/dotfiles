- hosts: localhost
  tasks:
    - name: Add the flathub flatpak repository remote
      community.general.flatpak_remote:
        name: flathub
        flatpakrepo_url: https://dl.flathub.org/repo/flathub.flatpakrepo

    - name: Install dnf packages
      ansible.builtin.dnf:
        name:
          - rsms-inter-fonts
      become: true

    - name: Remove unneeded dnf packages
      ansible.builtin.dnf:
        name:
          - gnome-calculator
        state: absent
      become: true

    - name: Install flatpaks
      community.general.flatpak:
        name:
          - app.devsuite.Ptyxis
          - org.gnome.TextEditor
          - com.plexamp.Plexamp
          - net.nokyan.Resources
          - io.appflowy.AppFlowy
        state: latest